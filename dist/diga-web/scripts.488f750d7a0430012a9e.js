const DirectionReveal=function({selector:e=".direction-reveal",itemSelector:t=".direction-reveal__card",animationName:n="swing",enableTouch:o=!0,touchThreshold:c=250}={}){const a=document.querySelectorAll(e);let i;const r=switchcase({0:"top",1:"right",2:"bottom",3:"left"})("top"),s=function(e,t){let o=e.currentTarget,c=function(e,t){let n=o.offsetWidth,c=o.offsetHeight,a=function(e){let t=0,n=0;for(;e;)t+=e.offsetLeft+e.clientLeft,n+=e.offsetTop+e.clientTop,e=e.offsetParent;return{x:t,y:n}}(o);return Math.round(Math.atan2(e.pageY-a.y-c/2*(c>n?n/c:1),e.pageX-a.x-n/2*(n>c?c/n:1))/1.57079633+5)%4}(e),a=r(c),i=o.className.split(" ").filter(e=>!e.startsWith(n)).join(" ");o.className=i,o.classList.add(`${n}--${t}-${a}`)},l=function(e,t,n){t.forEach(t=>e.addEventListener(t,n))},u=function(){a.length&&a.forEach(e=>{!function(e){const a=e.querySelectorAll(t);a.forEach(e=>{l(e,["mouseenter","focus"],e=>{s(e,"in")}),l(e,["mouseleave","blur"],e=>{s(e,"out")}),o&&(e.addEventListener("touchstart",e=>{i=+new Date},{passive:!0}),e.addEventListener("touchend",t=>{+new Date-i<c&&!e.className.includes(`${n}--in`)&&(t.preventDefault(),function(e,t,o){t.forEach(t=>{let o=t.className;o.includes(`${n}--in`)&&t!==e.currentTarget&&(t.className=o.replace(`${n}--in`,`${n}--out`))})}(t,a,s(t,"in")))}))})}(e)})};return u(),{init:u}};export default DirectionReveal;export const switchcase=e=>t=>n=>n in e?e[n]:t;